% M.Sc. Dissertation Template
%	A work by Mário Cristóvão, based on an example by Gonçalo Martins and José Faria.

% Preamble
\documentclass[a4paper, 11pt]{book}

% Includes
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[utf8]{inputenc}				% UTF-8 encoding, so that you can use characters like ç and ã
\usepackage[T1]{fontenc}				% Same, but for output encoding
\usepackage[portuguese,english]{babel}	% Still related to the above
\setlength{\marginparwidth}{2cm}
\usepackage{todonotes}
\usepackage{longtable}
\usepackage{acronym}					% List of acronyms
\usepackage{textcomp} 					% Extra characters
\usepackage{graphicx} 					% \includegraphics{}, the most common command to include images in figures 
\usepackage{titlesec}		 			% To manually format the chapter titles
\usepackage[left=3cm,right=2cm,top=2.5cm,bottom=2.5cm]{geometry} % Margins, as dictated by the rules
\usepackage[nottoc]{tocbibind} 	% Hyperlinks in table of contents, useful for navigation
\usepackage{multirow, makecell, pifont, rotating}
\usepackage[section]{placeins}			% \FloatBarrier, a useful command when your figures are trying to run away
\usepackage{caption}					% For captioning figures
\usepackage{subcaption}					% Subfigures (the subfigure package is deprecated and should not be used)
\usepackage[toc,page]{appendix}			% Appendices
\usepackage{pdfpages}					% Useful when your appendix is a pre-compiled PDF, such as a whole paper
\usepackage{url}						% Useful when one wants to include URLs in the text
\usepackage[
      colorlinks=true,    			%no frame around URL
      urlcolor=black,    			%no colors
      menucolor=black,    			%no colors
      linkcolor=black,    			%no colors
      citecolor=black,    			%no colors
      bookmarks=true,    			%tree-like TOC
      bookmarksopen=true,    		%expanded when starting
      bookmarksnumbered=true, 		%Put section numbers in bookmarks
      hyperfootnotes=true,    		%no referencing of footnotes, does not compile
      pdfpagemode=UseOutlines,    	%show the bookmarks when starting the pdf viewer
      plainpages=false, 			%solve problem ``destination with the same identifier'' warning
      pdfpagelabels				 	%solve problem ``destination with the same identifier'' warning
]{hyperref} 							% So that our citations look good and still work as links
\usepackage{epigraph}					% For your inspirational quote
\usepackage{etoolbox}
\usepackage{float}
\usepackage{arydshln}
\usepackage{tikz,lmodern}
\usepackage[most]{tcolorbox}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{fancyhdr}
\usepackage{amsthm}
\usepackage[style=ieee, backend=biber]{biblatex}
\usepackage{csquotes}
\addbibresource{bibliography/references.bib}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section] % Tied to sections


\lstset{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\linespread{0.8}\ttfamily\small,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\renewcommand\cellalign{lc}
\newcommand{\xmark}{\ding{55}}%
\newcommand{\cmark}{\ding{51}}%
\setlength{\headheight}{16pt}
\renewcommand{\baselinestretch}{1.5}	% 1.5 line spacing, as mandated by the rules
\renewcommand{\familydefault}{\rmdefault}

%---FORMAT CHAPTERS---

% Different Formating styles for the chapter, 
% uncomment your preferred style

% Simple Format
\titleformat{\chapter}[hang]
{
 \sffamily
 \Huge
 \bfseries
}
{\thechapter}{0.5em}
{}

% Line Format
% \titleformat{\chapter}[hang]
% {
%   \sffamily
%   \Huge
%   \bfseries
% }
% {\thechapter}{0.5em}
% {}
% [\vspace{-3.0ex} \rule{\textwidth}{2pt}]

% Framed Format
%\titleformat{\chapter}[frame]
%{
%  \sffamily
%  \Huge
%  \bfseries
%}
%{Chapter \thechapter}{0.5em}
%{}


%---STYLE FOR CODE---

%Example of adding a language not included in the package (Julia in this case)
%\lstdefinelanguage{Julia}%
%  {morekeywords={abstract,break,case,catch,const,continue,do,else,elseif,%
%      end,export,false,for,function,immutable,import,importall,if,in,%
%      macro,module,otherwise,quote,return,switch,true,try,type,typealias,%
%      using,while},%
%   sensitive=true,%
%   alsoother={\$},%
%   morecomment=[l]\#,%
%   morecomment=[n]{\#=}{=\#},%
%   morestring=[s]{"}{"},%
%   morestring=[m]{'}{'},%
%}[keywords,comments,strings]%

\lstset{aboveskip=20pt,belowskip=20pt}
\definecolor{codegreen}{rgb}{0,0.3,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.38,0,0.62}
\definecolor{backcolour}{rgb}{1,1,1}


\makeatletter
\newcommand{\YEAR}{\the\year}
\makeatother
\colorlet{shadecolor}{lightgray}

\newcommand{\thesistitle}{Metrics of automatic Image Quality Assessment based on Human Perception --- A comparative study and a proposal of a new metric}			% Your work's title
\newcommand{\myname}{André Guilherme dos Santos Neto}				% Your name
\newcommand{\statedate}{Coimbra, February \YEAR}					% The date, usually "Place, Month Year"
\newcommand{\supervisorname}{Nuno Miguel Mendonça da Silva Gonçalves}		% Your supervisor's name
\newcommand{\cosupervisorname}{João de Sena Baptista Pimentel Marcos}	% Your co-supervisor's name, if any.


% Handle page styling for headers and footers
\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[CE,CO]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{empty}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}

% MAIN DOCUMENT
\begin{document}

% TITLE PAGES
\frontmatter
\includepdf[pages={-}]{images/cover.pdf}
% Blank page (Back of Cover)
\newpage\thispagestyle{empty}

\pagestyle{plain}

% Title page
\input{misc/title_page.tex}

% ACKNOLWEDGEMENTS
\chapter*{Acknowledgments}
\addcontentsline{toc}{chapter}{Acknowledgements}
\input{misc/acknowledgements.tex}

% RESUMO
\chapter*{Resumo}
\addcontentsline{toc}{chapter}{Resumo}
\input{chapters/0-resumo.tex}

% ABSTRACT
\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
\input{chapters/00-abstract.tex}

% INSPIRATIONAL QUOTE
% Setup
\chapter*{}
\setlength\epigraphwidth{12cm}
\setlength\epigraphrule{0pt}
\makeatletter
\patchcmd{\epigraph}{\@epitext{#1}}{\itshape\@epitext{#1}\/}{}{}
\makeatother
% Actual Quote
\vspace*{\fill}
\epigraph{''O que acontece no Mundo é que toda a gente que nasce, nasce de alguma maneira poeta. Inventor de qualquer coisa que não havia no Mundo ainda, antes deles nascerem. E inteiramente individual. Cada um poeta que é!''}
{Agostinho da Silva}
\vspace*{\fill}

% TABLE OF CONTENTS
\pagestyle{plain}
\tableofcontents

% LIST OF ACRONYMS
\chapter*{List of Acronyms}
\addcontentsline{toc}{chapter}{List of Acronyms}
\input{misc/list_acronyms.tex}

% LIST OF FIGURES
\listoffigures

% LIST OF TABLES
\listoftables

% BODY
\mainmatter%
%-----------------CHAPTERS--------------------
% For each chapter, you should have a bit of code that looks like this:
% \label allows you to later \ref that chapter.
% \input includes a different .tex file, so that you can have you dissertation
% neatly partitioned into several files. I recommend one file per chapter.

\input{chapters/1-introduction.tex}
\input{chapters/2-related_work.tex}
\input{chapters/3-methodology.tex}
\input{chapters/5-frfm.tex}
\input{chapters/6-nrmetric.tex}
\input{chapters/7-results.tex}
\input{chapters/8-conclusion-fw.tex}

%---SAMPLE--
% REFERENCES
% Edit the references.bib file to add your own references, that you can then
\printbibliography\titleformat{\chapter}[display]	% Return chapter titles to normal, taking up a whole page (cool for appendices)
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}


%APPENDIX
\begin{appendix}			% Start appendices
\chapter{Sample Appendix}\label{app: sample appendix}
\input{appendix/sample.tex}
% To include pdf use this
%\includepdf[pages={-}]{path/to/appendix.pdf}

\end{appendix}
\end{document}
